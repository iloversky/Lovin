WITH  RPL(ID,PARENTID,PROJECTID,UID,WORK_TITLE,WORK_CONTENT,WORK_BEGIN_DATE,
      WORK_END_DATE,WORK_USER_NAME,MODIFY_DATE,ISFINISH,TOTAL_DAYS,ANNEXID,ANNEXNAME,ASSIGN_NAME,FINISH_DATE)       
      AS ( SELECT ID,PARENTID,PROJECTID,UID,WORK_TITLE,WORK_CONTENT,WORK_BEGIN_DATE,
      WORK_END_DATE,WORK_USER_NAME,MODIFY_DATE,ISFINISH,TOTAL_DAYS,ANNEXID,ANNEXNAME,ASSIGN_NAME,FINISH_DATE 
      FROM T_EIP_WORKASSIGNMENT ROOT WHERE ID = 
      workAss.getId() // 基础 id
      UNION  ALL SELECT CHILD.ID,CHILD.PARENTID,CHILD.PROJECTID,CHILD.UID,CHILD.WORK_TITLE,
      CHILD.WORK_CONTENT,CHILD.WORK_BEGIN_DATE,CHILD.WORK_END_DATE,CHILD.WORK_USER_NAME,
      CHILD.MODIFY_DATE,CHILD.ISFINISH,CHILD.TOTAL_DAYS ,CHILD.ANNEXID,CHILD.ANNEXNAME,CHILD.ASSIGN_NAME,CHILD.FINISH_DATE
      FROM RPL PARENT, T_EIP_WORKASSIGNMENT CHILD 
      WHERE PARENT.ID = CHILD.PARENTID)

select * from RPL where PARENTID IS NOT NULL order by ID



===========================================================================================================
WITH  RPL(W_MENU_ID,PARENT_MENU_ID,MENU_NAME, W_USER_THEME_ID, USER_ID, ORG_ID, MENU_STYLE, MENU_SHOW_TYPE, UPDATE_TIME,UPDATED_BY,W_PAGE_ID) 
    AS (
		SELECT W_MENU_ID,PARENT_MENU_ID,MENU_NAME, W_USER_THEME_ID, USER_ID, ORG_ID, MENU_STYLE, MENU_SHOW_TYPE, UPDATE_TIME,UPDATED_BY,W_PAGE_ID
			FROM T_WIDGET_MENUS ROOT WHERE W_MENU_ID in 
			  (select W_MENU_ID from T_WIDGET_MENUS wm where wm.IS_ROOT='1')

			UNION  ALL SELECT CHILD.W_MENU_ID,CHILD.PARENT_MENU_ID,CHILD.MENU_NAME,CHILD.W_USER_THEME_ID, CHILD.USER_ID, CHILD.ORG_ID, 
			                  CHILD.MENU_STYLE, CHILD.MENU_SHOW_TYPE, CHILD.UPDATE_TIME,CHILD.UPDATED_BY,CHILD.W_PAGE_ID
				  FROM RPL PARENT, T_WIDGET_MENUS CHILD 
				  WHERE PARENT.W_MENU_ID = CHILD.PARENT_MENU_ID)
 
 select * from RPL 
      -- where PARENT_MENU_ID IS NOT NULL   -- 去掉根节点数据
      ORDER BY W_MENU_ID ASC